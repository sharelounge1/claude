# ì²´í—˜ë‹¨ ì‹ ì²­ í”„ë¡œì„¸ìŠ¤ ê°€ì´ë“œ

## ğŸ“‹ ì „ì²´ í”„ë¡œì„¸ìŠ¤ íë¦„

```
1. ì¸í”Œë£¨ì–¸ì„œ ì‹ ì²­
   â†“
2. ì ì£¼ ìŠ¹ì¸/ê±°ì ˆ
   â†“ (ìŠ¹ì¸)
3. ì¸í”Œë£¨ì–¸ì„œ ë°©ë¬¸
   â†“
4. ì ì£¼ QR ìŠ¤ìº” (ë°©ë¬¸ í™•ì¸)
   â†“
5. ì²´í—˜ ì™„ë£Œ
   â†“
6. ì¸í”Œë£¨ì–¸ì„œ ë¦¬ë·° ì‘ì„±
   â†“
7. ì™„ë£Œ (í¬ì¸íŠ¸ ì§€ê¸‰)
```

---

## ğŸ¯ 1ë‹¨ê³„: ì¸í”Œë£¨ì–¸ì„œ ì‹ ì²­

### í™”ë©´: `/campaigns/:id` (ìº í˜ì¸ ìƒì„¸í˜ì´ì§€)

#### ì‚¬ìš©ì ì•¡ì…˜
1. ë¡œê·¸ì¸ í›„ ìº í˜ì¸ ìƒì„¸í˜ì´ì§€ ì ‘ì†
2. "ì‹ ì²­í•˜ê¸°" ë²„íŠ¼ í´ë¦­

#### ì‹œìŠ¤í…œ ì²˜ë¦¬
```typescript
// CampaignDetailPage.tsx - handleApply()
const { error } = await supabase
  .from('campaign_applications')
  .insert({
    campaign_id: campaign.id,
    user_id: user.id,
    status: 'pending', // ëŒ€ê¸° ìƒíƒœ
  });
```

#### ë°ì´í„°ë² ì´ìŠ¤ ë³€ê²½
- `campaign_applications` í…Œì´ë¸”ì— ìƒˆ ë ˆì½”ë“œ ìƒì„±
  - `status`: 'pending'
  - `campaign_id`: ì‹ ì²­í•œ ìº í˜ì¸ ID
  - `user_id`: ì‹ ì²­í•œ ì‚¬ìš©ì ID

#### ê²°ê³¼
- Alert: "ì²´í—˜ë‹¨ ì‹ ì²­ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤! ìŠ¹ì¸ì„ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”."
- í˜ì´ì§€ ì´ë™: `/my-campaigns`

---

## âœ… 2ë‹¨ê³„: ì ì£¼ ìŠ¹ì¸/ê±°ì ˆ

### í™”ë©´: `/owner/campaigns/:id/status` (ìº í˜ì¸ ì‹ ì²­ì ê´€ë¦¬)

#### ì ì£¼ ì•¡ì…˜
1. ì ì£¼ ì›¹ ëŒ€ì‹œë³´ë“œ ì ‘ì†
2. "ìº í˜ì¸ ê´€ë¦¬" â†’ í•´ë‹¹ ìº í˜ì¸ í´ë¦­
3. "ì§„í–‰ ìƒí™©" íƒ­ì—ì„œ ì‹ ì²­ì ëª©ë¡ í™•ì¸
4. ê° ì‹ ì²­ìì— ëŒ€í•´ "ìŠ¹ì¸" ë˜ëŠ” "ê±°ì ˆ" ë²„íŠ¼ í´ë¦­

#### ì‹œìŠ¤í…œ ì²˜ë¦¬ (ìŠ¹ì¸)
```typescript
const { error } = await supabase
  .from('campaign_applications')
  .update({ status: 'approved' })
  .eq('id', applicationId);
```

#### ì‹œìŠ¤í…œ ì²˜ë¦¬ (ê±°ì ˆ)
```typescript
const { error } = await supabase
  .from('campaign_applications')
  .update({ status: 'rejected' })
  .eq('id', applicationId);
```

#### ë°ì´í„°ë² ì´ìŠ¤ ë³€ê²½
- `campaign_applications.status`: 'pending' â†’ 'approved' ë˜ëŠ” 'rejected'

#### ê²°ê³¼ (ìŠ¹ì¸)
- ì¸í”Œë£¨ì–¸ì„œì—ê²Œ ì•Œë¦¼ ì „ì†¡ (notifications í…Œì´ë¸”)
- ì¸í”Œë£¨ì–¸ì„œì˜ "ë‚´ ì²´í—˜ë‹¨" íƒ­ì— "ìŠ¹ì¸ë¨" ìƒíƒœ í‘œì‹œ
- QR ì½”ë“œ ìƒì„± ì¤€ë¹„

#### ê²°ê³¼ (ê±°ì ˆ)
- ì¸í”Œë£¨ì–¸ì„œì—ê²Œ ì•Œë¦¼ ì „ì†¡
- ì‹ ì²­ ë‚´ì—­ì— "ê±°ì ˆë¨" ìƒíƒœ í‘œì‹œ

---

## ğŸª 3ë‹¨ê³„: ì¸í”Œë£¨ì–¸ì„œ ë§¤ì¥ ë°©ë¬¸

### í™”ë©´: `/my-campaigns/:id` (ë‚´ ì²´í—˜ë‹¨ ìƒì„¸)

#### ì‚¬ìš©ì ì•¡ì…˜
1. "ë‚´ ì²´í—˜ë‹¨" íƒ­ ì ‘ì†
2. ìŠ¹ì¸ëœ ìº í˜ì¸ í´ë¦­
3. QR ì½”ë“œ í™•ì¸
4. ë§¤ì¥ ë°©ë¬¸

#### QR ì½”ë“œ ì •ë³´
- `qr_codes` í…Œì´ë¸”ì— ì €ì¥
- QR ì½”ë“œ ë°ì´í„°: `application_id` + ë³´ì•ˆ í† í°
- 1íšŒìš© QR ì½”ë“œ (ìŠ¤ìº” í›„ ë¬´íš¨í™”)

---

## ğŸ“± 4ë‹¨ê³„: ì ì£¼ QR ìŠ¤ìº”

### í™”ë©´: `/owner/qr-scan` (QR ìŠ¤ìº” í˜ì´ì§€)

#### ì ì£¼ ì•¡ì…˜
1. ì ì£¼ ëª¨ë°”ì¼ ì•± ì ‘ì†
2. "QR ìŠ¤ìº”" ë²„íŠ¼ í´ë¦­
3. ì¸í”Œë£¨ì–¸ì„œ QR ì½”ë“œ ìŠ¤ìº”

#### ì‹œìŠ¤í…œ ì²˜ë¦¬
```typescript
// QRScanPage.tsx
const { error } = await supabase
  .from('campaign_applications')
  .update({
    status: 'in_progress',
    visited_at: new Date().toISOString(),
  })
  .eq('id', applicationId);

// QR ì½”ë“œ ë¬´íš¨í™”
await supabase
  .from('qr_codes')
  .update({ used: true })
  .eq('application_id', applicationId);
```

#### ë°ì´í„°ë² ì´ìŠ¤ ë³€ê²½
- `campaign_applications.status`: 'approved' â†’ 'in_progress'
- `campaign_applications.visited_at`: í˜„ì¬ ì‹œê°„
- `qr_codes.used`: true

#### ê²°ê³¼
- Alert: "ë°©ë¬¸ í™•ì¸ ì™„ë£Œ!"
- ì¸í”Œë£¨ì–¸ì„œì—ê²Œ ì•Œë¦¼: "ë°©ë¬¸ì´ í™•ì¸ë˜ì—ˆìŠµë‹ˆë‹¤. ì²´í—˜ì„ ì¦ê¸°ì„¸ìš”!"

---

## ğŸ‰ 5ë‹¨ê³„: ì²´í—˜ ì™„ë£Œ

### ì‹œìŠ¤í…œ ì²˜ë¦¬ (ìë™/ìˆ˜ë™)

#### ìë™ ì™„ë£Œ (ì¼ì • ì‹œê°„ í›„)
```typescript
// ë°©ë¬¸ í›„ 2ì‹œê°„ ê²½ê³¼ ì‹œ ìë™ìœ¼ë¡œ ì²´í—˜ ì™„ë£Œ ì²˜ë¦¬
// ë˜ëŠ” ì ì£¼ê°€ ìˆ˜ë™ìœ¼ë¡œ ì™„ë£Œ ì²˜ë¦¬
const { error } = await supabase
  .from('campaign_applications')
  .update({
    status: 'completed',
    completed_at: new Date().toISOString(),
  })
  .eq('id', applicationId);
```

#### ë°ì´í„°ë² ì´ìŠ¤ ë³€ê²½
- `campaign_applications.status`: 'in_progress' â†’ 'completed'
- `campaign_applications.completed_at`: ì™„ë£Œ ì‹œê°„

---

## âœï¸ 6ë‹¨ê³„: ë¦¬ë·° ì‘ì„±

### í™”ë©´: `/my-campaigns/:id/review` (ë¦¬ë·° ì‘ì„±)

#### ì‚¬ìš©ì ì•¡ì…˜
1. "ë‚´ ì²´í—˜ë‹¨" â†’ ì™„ë£Œëœ ìº í˜ì¸ í´ë¦­
2. "ë¦¬ë·° ì‘ì„±" ë²„íŠ¼ í´ë¦­
3. ë³„ì , ë¦¬ë·° ë‚´ìš©, ì‚¬ì§„ ì—…ë¡œë“œ
4. SNS ë§í¬ ì…ë ¥ (ì¸ìŠ¤íƒ€ê·¸ë¨/ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸ URL)
5. "ì œì¶œ" ë²„íŠ¼ í´ë¦­

#### ì‹œìŠ¤í…œ ì²˜ë¦¬
```typescript
const { error } = await supabase
  .from('reviews')
  .insert({
    campaign_id: campaign.id,
    user_id: user.id,
    application_id: applicationId,
    rating: 5,
    content: 'ë¦¬ë·° ë‚´ìš©',
    images: ['image_url_1', 'image_url_2'],
    sns_links: ['instagram_url', 'blog_url'],
  });
```

#### ë°ì´í„°ë² ì´ìŠ¤ ë³€ê²½
- `reviews` í…Œì´ë¸”ì— ìƒˆ ë ˆì½”ë“œ ìƒì„±
- `campaign_applications.reviewed`: true

#### ê²°ê³¼
- Alert: "ë¦¬ë·°ê°€ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤!"
- í¬ì¸íŠ¸ ì§€ê¸‰ (ì„ íƒì‚¬í•­)

---

## ğŸ 7ë‹¨ê³„: ì™„ë£Œ ë° ë³´ìƒ

### ì‹œìŠ¤í…œ ì²˜ë¦¬

#### í¬ì¸íŠ¸ ì§€ê¸‰
```typescript
// ë¦¬ë·° ì‘ì„± í›„ ìë™ìœ¼ë¡œ í¬ì¸íŠ¸ ì§€ê¸‰
const { error } = await supabase
  .from('profiles')
  .update({
    points: profile.points + 100, // ê¸°ë³¸ 100í¬ì¸íŠ¸
  })
  .eq('id', user.id);
```

#### ë“±ê¸‰ ì—…ë°ì´íŠ¸
- ì™„ë£Œí•œ ìº í˜ì¸ ìˆ˜ì— ë”°ë¼ ë“±ê¸‰ ìƒìŠ¹
  - Bronze: 0-5ê°œ
  - Silver: 6-15ê°œ
  - Gold: 16-30ê°œ
  - Platinum: 31ê°œ ì´ìƒ

---

## ğŸ“Š ìƒíƒœë³„ í™”ë©´ í‘œì‹œ

### ì¸í”Œë£¨ì–¸ì„œ "ë‚´ ì²´í—˜ë‹¨" í˜ì´ì§€

| ìƒíƒœ | í‘œì‹œ | ì•¡ì…˜ ë²„íŠ¼ |
|------|------|-----------|
| pending | ğŸ• ìŠ¹ì¸ ëŒ€ê¸° ì¤‘ | - |
| approved | âœ… ìŠ¹ì¸ë¨ | QR ì½”ë“œ ë³´ê¸° |
| rejected | âŒ ê±°ì ˆë¨ | - |
| in_progress | ğŸ‰ ì²´í—˜ ì¤‘ | - |
| completed | âœ”ï¸ ì™„ë£Œ | ë¦¬ë·° ì‘ì„±í•˜ê¸° |
| reviewed | â­ ë¦¬ë·° ì™„ë£Œ | ë¦¬ë·° ë³´ê¸° |

### ì ì£¼ "ìº í˜ì¸ ê´€ë¦¬" í˜ì´ì§€

| ìƒíƒœ | í‘œì‹œ | ì•¡ì…˜ ë²„íŠ¼ |
|------|------|-----------|
| pending | ì‹ ê·œ ì‹ ì²­ | ìŠ¹ì¸ / ê±°ì ˆ |
| approved | ìŠ¹ì¸ë¨ | QR ëŒ€ê¸° ì¤‘ |
| in_progress | ë°©ë¬¸ í™•ì¸ë¨ | ì™„ë£Œ ì²˜ë¦¬ |
| completed | ì™„ë£Œ | - |
| reviewed | ë¦¬ë·° ì‘ì„±ë¨ | ë¦¬ë·° ë³´ê¸° |

---

## ğŸ”” ì•Œë¦¼ íƒ€ì´ë°

1. **ì‹ ì²­ ì‹œ**: ì ì£¼ì—ê²Œ "ìƒˆë¡œìš´ ì²´í—˜ë‹¨ ì‹ ì²­ì´ ìˆìŠµë‹ˆë‹¤"
2. **ìŠ¹ì¸ ì‹œ**: ì¸í”Œë£¨ì–¸ì„œì—ê²Œ "ì²´í—˜ë‹¨ ì‹ ì²­ì´ ìŠ¹ì¸ë˜ì—ˆìŠµë‹ˆë‹¤"
3. **ê±°ì ˆ ì‹œ**: ì¸í”Œë£¨ì–¸ì„œì—ê²Œ "ì²´í—˜ë‹¨ ì‹ ì²­ì´ ê±°ì ˆë˜ì—ˆìŠµë‹ˆë‹¤"
4. **ë°©ë¬¸ í™•ì¸ ì‹œ**: ì¸í”Œë£¨ì–¸ì„œì—ê²Œ "ë°©ë¬¸ì´ í™•ì¸ë˜ì—ˆìŠµë‹ˆë‹¤"
5. **ë¦¬ë·° ì‘ì„± ì‹œ**: ì ì£¼ì—ê²Œ "ìƒˆë¡œìš´ ë¦¬ë·°ê°€ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤"

---

## ğŸ› ï¸ êµ¬í˜„ ìƒíƒœ

### âœ… ì™„ë£Œëœ ê¸°ëŠ¥
- 1ë‹¨ê³„: ìº í˜ì¸ ì‹ ì²­ âœ…
- ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ âœ…

### ğŸš§ êµ¬í˜„ í•„ìš”í•œ ê¸°ëŠ¥
- 2ë‹¨ê³„: ì ì£¼ ìŠ¹ì¸/ê±°ì ˆ ì‹œìŠ¤í…œ
- 4ë‹¨ê³„: QR ì½”ë“œ ìƒì„± ë° ìŠ¤ìº”
- 5ë‹¨ê³„: ì²´í—˜ ì™„ë£Œ ì²˜ë¦¬
- 6ë‹¨ê³„: ë¦¬ë·° ì‘ì„± í˜ì´ì§€
- 7ë‹¨ê³„: í¬ì¸íŠ¸ ë° ë“±ê¸‰ ì‹œìŠ¤í…œ
- ì•Œë¦¼ ì‹œìŠ¤í…œ

---

## ğŸ“± í™”ë©´ êµ¬ì¡°

```
ì¸í”Œë£¨ì–¸ì„œ ì•±:
â”œâ”€ /campaigns (ìº í˜ì¸ ë¦¬ìŠ¤íŠ¸)
â”œâ”€ /campaigns/:id (ìº í˜ì¸ ìƒì„¸)
â”œâ”€ /my-campaigns (ë‚´ ì²´í—˜ë‹¨)
â”œâ”€ /my-campaigns/:id (ì²´í—˜ë‹¨ ìƒì„¸)
â”œâ”€ /qr/:applicationId (QR ì½”ë“œ í‘œì‹œ)
â””â”€ /my-campaigns/:id/review (ë¦¬ë·° ì‘ì„±)

ì ì£¼ ì›¹:
â”œâ”€ /owner/campaigns (ìº í˜ì¸ ê´€ë¦¬)
â”œâ”€ /owner/campaigns/:id/status (ì‹ ì²­ì ê´€ë¦¬)
â””â”€ /owner/campaigns/:id/reviews (ë¦¬ë·° í™•ì¸)

ì ì£¼ ëª¨ë°”ì¼:
â”œâ”€ /owner/app (í™ˆ)
â”œâ”€ /owner/qr-scan (QR ìŠ¤ìº”)
â””â”€ /owner/app/campaign/:id (ìº í˜ì¸ ì°¸ì—¬ì)
```

---

**ìµœì¢… ì—…ë°ì´íŠ¸**: 2025-01-16
**ì‘ì„±ì**: Claude Code
